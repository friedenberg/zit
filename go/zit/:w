package commands

import (
	"flag"

	"code.linenisgreat.com/zit/go/zit/src/golf/command"
	"code.linenisgreat.com/zit/go/zit/src/papa/command_components"
)

func init() {
	command.Register(
		"complete",
		&Complete{},
	)
}

type Complete struct {
	command_components.Env
}

func (cmd Complete) SetFlagSet(f *flag.FlagSet) {}

func (cmd Complete) Run(req command.Request) {
	envLocal := cmd.MakeEnv(req)
	toComplete, hasLastArg := req.LastArg()

	if hasLastArg {
		envLocal.GetUI().Printf("last arg %s\tlast arg description", toComplete)
	} else {
		envLocal.GetUI().Printf("example\tdescription")
	}
}
